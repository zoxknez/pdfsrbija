# Profile-specific properties for Docker / Postgres
# Activate with --spring.profiles.active=docker or by setting SPRING_PROFILES_ACTIVE=docker

# If a custom database is enabled (system.datasource.enableCustomDatabase), the application
# will prefer the URL provided by SYSTEM_DATASOURCE_CUSTOMDATABASEURL. These env vars are
# set in docker-compose.postgres.yml above.

# Default to not using embedded H2
spring.datasource.url=${SYSTEM_DATASOURCE_CUSTOMDATABASEURL:}
spring.datasource.username=${SYSTEM_DATASOURCE_USERNAME:}
spring.datasource.password=${SYSTEM_DATASOURCE_PASSWORD:}
spring.datasource.driver-class-name=org.postgresql.Driver

# Ensure Hibernate uses the correct dialect for Postgres when available
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=update

# Do not enable H2 console in docker profile
spring.h2.console.enabled=false
